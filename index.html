<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Start</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="section">
    <div id="weather-box">Ladataan s√§√§t√§...</div>
    <div id="weather-warnings"></div>
    <div id="finnish-date"></div>
  </div>
  <div class="search-bar">
    <form action="https://www.google.com/search" method="get" target="_blank">
      <input type="text" name="q" placeholder="Search Google..." />
      <button type="submit">üîç</button>
    </form>
  </div>
  <div class="section">
    <h2>Uutiset</h2>
    <div class="tile-grid">
      <div class="tile" onclick="window.open('https://www.iltalehti.fi')">
        <img src="https://www.google.com/s2/favicons?domain=iltalehti.fi" alt="Iltalehti" />
        <span>Iltalehti</span>
      </div>

      <div class="tile" onclick="window.open('https://is.fi')">
        <img src="https://www.google.com/s2/favicons?domain=is.fi/" alt="Iltasanomat" />
        <span>Iltasanomat</span>
      </div>

      <div class="tile" onclick="window.open('https://yle.fi/')">
        <img src="https://www.google.com/s2/favicons?domain=yle.fi/" alt="Yle" />
        <span>Yle</span>
      </div>

      <div class="tile" onclick="window.open('https://www.verkkouutiset.fi/')">
        <img src="https://www.google.com/s2/favicons?domain=verkkouutiset.fi/" alt="Verkkouutiset" />
        <span>Verkkouutiset</span>
      </div>

      <div class="tile" onclick="window.open('https://www.mtvuutiset.fi/')">
        <img src="https://www.google.com/s2/favicons?domain=mtvuutiset.fi/" alt="MTV Uutiset" />
        <span>MTV Uutiset</span>
      </div>
      <!-- Add more tiles here -->
    </div>
  </div>

  <div class="section">
    <h2>Media</h2>
    <div class="tile-grid">
      <div class="tile" onclick="window.open('https://www.disneyplus.com')">
        <img src="https://www.google.com/s2/favicons?domain=disneyplus.com" alt="Disney+" />
        <span>Disney+</span>
      </div>

      <div class="tile" onclick="window.open('https://www.hbomax.com')">
        <img src="https://www.google.com/s2/favicons?domain=hbomax.com" alt="HBO Max" />
        <span>HBO Max</span>
      </div>

      <div class="tile" onclick="window.open('https://www.skyshowtime.com')">
        <img src="https://www.google.com/s2/favicons?domain=skyshowtime.com" alt="SkyShowtime" />
        <span>SkyShowtime</span>
      </div>

      <div class="tile" onclick="window.open('https://www.mtv.fi')">
        <img src="https://www.google.com/s2/favicons?domain=mtv.fi" alt="MTV" />
        <span>MTV</span>
      </div>

      <div class="tile" onclick="window.open('https://areena.yle.fi')">
        <img src="https://www.google.com/s2/favicons?domain=areena.yle.fi" alt="Yle Areena" />
        <span>Yle Areena</span>
      </div>

      <div class="tile" onclick="window.open('https://www.rakuten.tv')">
        <img src="https://www.google.com/s2/favicons?domain=rakuten.tv" alt="Rakuten TV" />
        <span>Rakuten TV</span>
      </div>

      <div class="tile" onclick="window.open('https://elonet.finna.fi')">
        <img src="https://www.google.com/s2/favicons?domain=elonet.finna.fi" alt="Elonet" />
        <span>Elonet</span>
      </div>

      <div class="tile" onclick="window.open('https://www.youtube.com')">
        <img src="https://www.google.com/s2/favicons?domain=youtube.com" alt="YouTube" />
        <span>YouTube</span>
      </div>
    </div>
  </div>


  <div class="section">
    <h2>Google</h2>
    <div class="tile-grid">
      <div class="tile" onclick="window.open('https://mail.google.com')">
        <img src="https://www.google.com/s2/favicons?domain=mail.google.com" alt="Gmail" />
        <span>Gmail</span>
      </div>
      <div class="tile" onclick="window.open('https://calendar.google.com')">
        <img src="https://www.google.com/s2/favicons?domain=calendar.google.com" alt="Calendar" />
        <span>Calendar</span>
      </div>
      <div class="tile" onclick="window.open('https://drive.google.com')">
        <img src="https://www.google.com/s2/favicons?domain=drive.google.com" alt="Drive" />
        <span>Drive</span>
      </div>
      <div class="tile" onclick="window.open('https://docs.google.com')">
        <img src="https://www.google.com/s2/favicons?domain=docs.google.com" alt="Google Docs" />
        <span>Google Docs</span>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>Ty√∂kalut</h2>
    <div class="tile-grid">
      <div class="tile" onclick="window.open('https://chat.openai.com')">
        <img src="https://www.google.com/s2/favicons?domain=chat.openai.com" alt="ChatGPT" />
        <span>ChatGPT</span>
      </div>
      <div class="tile" onclick="window.open('https://www.deepl.com/translator')">
        <img src="https://www.google.com/s2/favicons?domain=deepl.com" alt="DeepL" />
        <span>DeepL</span>
      </div>
      <div class="tile" onclick="window.open('https://www.canva.com')">
        <img src="https://www.google.com/s2/favicons?domain=canva.com" alt="Canva" />
        <span>Canva</span>
      </div>
      <div class="tile" onclick="window.open('https://www.remove.bg')">
        <img src="https://www.google.com/s2/favicons?domain=remove.bg" alt="Remove.bg" />
        <span>Remove.bg</span>
      </div>
      <div class="tile" onclick="window.open('data:text/html, <body style=&quot;margin:0;auto;padding:4rem;background-color: gray;&quot;><div contenteditable style=&quot;font: 2rem/1.5 monospace;max-width:80rem;margin:0 auto;padding:4rem;background-color: white; min-height:80rem;&quot;></div></body>')">
        <img src="https://www.google.com/s2/favicons?domain=example.com" alt="Scratchpad" />
        <span>Scratchpad</span>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>Kehitysty√∂kalut</h2>
    <div class="tile-grid">
      <div class="tile" onclick="window.open('https://flutter.dev')">
        <img src="https://www.google.com/s2/favicons?domain=flutter.dev" alt="Flutter" />
        <span>Flutter</span>
      </div>
      <div class="tile" onclick="window.open('https://pub.dev')">
        <img src="https://www.google.com/s2/favicons?domain=pub.dev" alt="Pub.dev" />
        <span>pub.dev</span>
      </div>
      <div class="tile" onclick="window.open('https://dart.dev')">
        <img src="https://www.google.com/s2/favicons?domain=dart.dev" alt="Dart" />
        <span>Dart</span>
      </div>
      <div class="tile" onclick="window.open('https://github.com')">
        <img src="https://www.google.com/s2/favicons?domain=github.com" alt="GitHub" />
        <span>GitHub</span>
      </div>
      <div class="tile" onclick="window.open('https://codepen.io')">
        <img src="https://www.google.com/s2/favicons?domain=codepen.io" alt="CodePen" />
        <span>CodePen</span>
      </div>
      <div class="tile" onclick="window.open('https://vscode.dev/')">
        <img src="https://www.google.com/s2/favicons?domain=vscode.dev" alt="CodePen" />
        <span>VSCode.dev</span>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>Verkkoty√∂kalut</h2>
    <div class="tile-grid">
      <div class="tile" onclick="window.open('https://www.speedtest.net')">
        <img src="https://www.google.com/s2/favicons?domain=speedtest.net" alt="Speedtest" />
        <span>Speedtest</span>
      </div>
      <div class="tile" onclick="window.open('https://fast.com')">
        <img src="https://www.google.com/s2/favicons?domain=fast.com" alt="Fast.com" />
        <span>Fast.com</span>
      </div>
      <div class="tile" onclick="window.open('https://downdetector.com')">
        <img src="https://www.google.com/s2/favicons?domain=downdetector.com" alt="DownDetector" />
        <span>DownDetector</span>
      </div>
      <div class="tile" onclick="window.open('https://weather.com')">
        <img src="https://www.google.com/s2/favicons?domain=weather.com" alt="Weather" />
        <span>Weather</span>
      </div>
      <div class="tile" onclick="window.open('https://dnsleaktest.com')">
        <img src="https://www.google.com/s2/favicons?domain=dnsleaktest.com" alt="DNS Leak Test" />
        <span>DNS Leak Test</span>
      </div>
    </div>
  </div>


  <div class="section">
    <h2>Some</h2>
    <div class="tile-grid">
      <div class="tile" onclick="window.open('https://facebook.com')">
        <img src="https://www.google.com/s2/favicons?domain=facebook.com" />
        <span>Facebook</span>
      </div>
      <div class="tile" onclick="window.open('https://linkedin.com')">
        <img src="https://www.google.com/s2/favicons?domain=linkedin.com" />
        <span>LinkedIn</span>
      </div>
      <!-- Add more tiles -->
    </div>
  </div>

  <script>
  async function fetchWeather(lat, lon) {
    const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`;
    const response = await fetch(url);
    const data = await response.json();
    const weather = data.current_weather;
    const box = document.getElementById("weather-box");

    const temperature = weather.temperature;
    const windKmh = weather.windspeed;
    const windMs = (windKmh * 0.27778).toFixed(1);
    const windDir = getFinnishWindDirection(weather.winddirection);
    const windArrow = getWindArrow(weather.winddirection);

    const symbol = getWeatherIcon(weather.weathercode);

    box.innerHTML = `<span class="weather-icon">${symbol}</span> ${temperature}¬∞C &nbsp; | &nbsp; Tuuli ${windMs} m/s ${windArrow}`;
  }

  async function fetchWarnings() {
    try {
      const res = await fetch('https://www.ilmatieteenlaitos.fi/warning-list.json');
      const data = await res.json();
      const warningBox = document.getElementById("weather-warnings");

      if (!data.warnings || data.warnings.length === 0) return;

      const texts = data.warnings.map(w => `${w.title} ‚Äì ${w.area}`);
      warningBox.innerHTML = `<p class="weather-warning">${texts.join('<br>')}</p>`;
    } catch (e) {
      console.warn("Warning fetch failed:", e);
    }
  }



  function getFinnishWindDirection(degrees) {
    const directions = [
      'P', 'PI', 'I', 'IE', 'E', 'EL', 'L', 'LP',
    ];
    const index = Math.round(degrees / 45) % 8;
    return directions[index];
  }

  function getWindArrow(degrees) {
    const arrows = ['‚Üë', '‚Üó', '‚Üí', '‚Üò', '‚Üì', '‚Üô', '‚Üê', '‚Üñ'];
    const index = Math.round(degrees / 45) % 8;
    return arrows[index];
  }

  
  function getWeatherIcon(code) {
    // Simplified icons for some common weather codes
    const map = {
      0: '‚òÄÔ∏è',       // Clear
      1: 'üå§Ô∏è',      // Mainly clear
      2: '‚õÖ',       // Partly cloudy
      3: '‚òÅÔ∏è',       // Overcast
      45: 'üå´Ô∏è',     // Fog
      61: 'üåßÔ∏è',     // Light rain
      71: '‚ùÑÔ∏è',     // Snow
      95: '‚õàÔ∏è',     // Thunderstorm
    };
    return map[code] || 'üå°Ô∏è';
  }

  navigator.geolocation.getCurrentPosition(
    pos => fetchWeather(pos.coords.latitude, pos.coords.longitude),
    err => {
      document.getElementById("weather-box").innerText = "Sijainti estetty - s√§√§tietoja ei voida ladata.";
    }
  );
</script>
<script>
  const dateElement = document.getElementById("finnish-date");
  const today = new Date();
  const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
  dateElement.innerText = today.toLocaleDateString('fi-FI', options);
</script>

</body>
</html>
